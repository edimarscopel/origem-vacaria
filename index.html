<!--
Este projeto é derivado de um projeto hospedado no code pen. Segue a licença do projeto original.

Copyright (c) 2020 by Ritesh Kumar (https://codepen.io/ritz078/pen/LGRWjE)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vacaria</title>
        <link rel="stylesheet" href="style.css">

</head>
<body>
    <section class="cd-horizontal-timeline">
        <div class="timeline">
            <div class="events-wrapper">
                <div class="events">
                    <ol>
                        <li><a href="#0" data-date="01/01/1637" class="selected">1637</a></li>
                        <li><a href="#0" data-date="02/01/1637">1697</a></li>
                        <li><a href="#0" data-date="03/01/1637">1730</a></li>
                        <li><a href="#0" data-date="04/01/1637">1750</a></li>
                        <li><a href="#0" data-date="05/01/1637">A imagem</a></li>
                        <li><a href="#0" data-date="06/01/1637">1761</a></li>
                        <li><a href="#0" data-date="07/01/1637">1968</a></li>
                        <li><a href="#0" data-date="08/01/1637">1921</a></li>
                        <li><a href="#0" data-date="09/01/1637">1934</a></li>
                        <li><a href="#0" data-date="10/01/1637">1957</a></li>
                        <li><a href="#0" data-date="11/01/1637">3 Mar</a></li>
                    </ol>
    
                    <span class="filling-line" aria-hidden="true"></span>
                </div> <!-- .events -->
            </div> <!-- .events-wrapper -->
                
            <ul class="cd-timeline-navigation">
                <li><a href="#0" class="prev inactive">Prev</a></li>
                <li><a href="#0" class="next">Next</a></li>
            </ul> <!-- .cd-timeline-navigation -->
        </div> <!-- .timeline -->
    
        <div class="events-content">
            <ol>
                <li class="selected" data-date="01/01/1637">
                    <h2>Surge a Vacaria do Mar</h2>
                    <em>≈1637</em>
                    <p>	Visando a suprir essa necessidade, o gado foi introduzido nas reduções do Rio Grande do Sul em 1634, pelo jesuíta Cristóvão de Mendoza. O gado também seria utilizado na agricultura e no transporte. Quando os bandeirantes atacaram as reduções do Rio Grande do Sul, os jesuítas transferiram o gado para o sul do rio Jacuí, hoje a campanha gaúcha.</p>
                    <p>Esse gado, encontrando boas pastagens e águas, reproduziu-se, formando a Vacaria do Mar, composta por rebanho de gado chamado "chimarrão". Desses rebanhos era retirado o gado para alimentar os índios das reduções da margem direita do rio Uruguai. Mais tarde, portugueses e espanhóis descobriram a Vacaria do Mar e deram inicio à exploração desordenada do gado. Eram abatidos animais para tirar couro e sebo, assim como eram retiradas tropas de gado muar e bovino para serem vendidas em São Paulo, na feira de Sorocaba. Essas tropas, na sua grande maioria, iriam alimentar os escravos que trabalhavam nas minas de Minas Gerais e servir para o transporte de carga. Em 1739, não mais havia gado nessa vacaria.</p>
                    <span>Professora Ana Luiza Jaskulski - https://historia-do-rio-grande-do-sul.webnode.com/vacaria-do-mar/</span>
                </li>
    
                <li data-date="02/01/1637">
                    <h2>Surge a <i>vaquería/baquería de los pinares</i></h2>
                    <em>≈1697</em>
                    <p>A Vacaria do Mar, situada entre a Lagoa dos Patos e os rios Jacuí e Negro, estava sendo saqueada pelos espanhóis e pelos portugueses, com o auxílio dos índios minuanos, para obtenção de couro e graxa que exportavam em larga escala. Os missionários pensaram em afastar o gado para lugares distantes preservando-os do extermínio eminente, sendo necessária à criação de outra “vacaria”.</p>
                    <p>Os jesuítas encontraram na região nordeste do estado, extensões de campos fortemente cercadas por fronteiras naturais.</p>
                    <p>Os missionários, após a fundação da Vacaria dos Pinhais, deram instruções aos índios Guaianás sobre o modo que deveriam cuidar do gado que ficava sob guarda e proteção. Os Guaianás iam dando conta do desempenho de suas atribuições, ao passo que os missionários, com intervalos regulares, repetiam visitas de inspeção periódica.</p>
                    <p>Entretanto, os portugueses da Colônia do Sacramento, tentaram courear e fazer graxa, como costumavam na Vacaria do Mar por volta de 1718, provocando violenta reação missionária, sobrevindo um período de paz até 1729.</p>
                    <span>http://vacaria160anos.blogspot.com/2010/09/</span>
                    <br>
                </li>
    
                <li data-date="03/01/1637">
                    <h2>Caminho de Sorocaba/das tropas</h2>
                    <em>≈1730</em>
                    <p>Aproximadamente nesta época, surgiu uma rota de Viamão até São Paulo, passando por Vacaria, atravessando o rio Pelotas no Passo de Santa Vitória, chegando a Lages, indo a Curitibanos, Campo Largo e São José dos Pinhais. Era o conhecido <i>Caminho de Sorocaba</i> ou <i>Caminho das Tropas</i>. Após esse fato, a localidade passou a ser conhecida como Vacaria dos Pinhais, nomenclatura em português.</p>
                    <span>disponível em https://www.passeidireto.com/arquivo/6167609/historia-de-vacaria</span>
                    <br>
                </li>
    
                <li data-date="04/01/1637">
                    <h2>Encontro da Imagem</h2>
                    <em>8 de setembro de 1750</em>
                    <p>O antigo costume de queimar o capim seco pela geada no fim do inverno, era comum nos povoados nos Campos de Vacaria. No dia 8 de setembro, próximo do ano de 1750, um fazendeiro havia ateado fogo ao campo, o fogo consumia o capim, porém uma pequena parte do terreno não era consumida. O fazendeiro novamente coloca fogo no local e ao cair da tarde, à hora do  ngelus, o camponês vê por entre as labaredas uma imagem sobre uma pedra, esta trazia a inscrição “N. S. da Oliveira”. Devotamente ele leva imagem para sua casa, onde junto com a família rezam o terço.</p>
                    <p>Ao lado da casa, a família ergue uma ermida para abrigar a imagem. A notícia da aparição da imagem se espalhou pela vizinhança que, em piedosas romarias visitavam a ermida, obtinham graças e faziam promessas. Ao entorno da ermida começam a surgir ranchos de barro que originaram a futura cidade de Vacaria.</p>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
                </li>
    
                <li data-date="05/01/1637">
                    <h2>Nossa Senhora da Oliveira</h2>
                    <table>
                        <tr>
                            <td><img src="/oliveira.jpeg" style="margin-top: 1px;"></td>
                            <td>
                                <p>A imagem, de 50 centímetros, encontrada em Vacaria é uma autêntica reprodução da Imagem de Nossa Senhora da Oliveira de Guimarães. De origem portuguesa, a imagem foi deixada por inspiração divina ou providencial esquecimento de alguma caravana de bandeirantes. Sabe-se que em 1937 passou pela região de Vacaria a Bandeira do capitão André Fernandes, porém a hipótese mais aceita é de que a imagem foi deixada pela caravana portuguesa de Cristóvão Pereira de Abreu, que em 1738 abriu a estrada das tropas para a região das Missões.</p>            
                                <p>Conta-se que após a imagem ser entronizada na modesta ermida foi levada por um sacerdote, possivelmente de Viamão, contra a vontade da família, para que fosse guardada num lugar mais digno até que fosse construída uma capela melhor. Na manhã seguinte, após abrirem a eremita são surpreendidos pela presença da imagem. No mesmo dia, o padre retorna e alega que a imagem teria sido roubada pelo caminho e a toma novamente, desta vez guardando dentro de uma canastra, fechada a chave. O padre, ao transpor a serra do Rio das Antas percebe que novamente a imagem desaparecerá. Retornando à aldeia, encontra a imagem e se convence que a vontade do Senhor é que a imagem ali ficasse, aos cuidados do povo vacariano. O sacerdote passa a interceder junto a autoridade eclesiástica em favor da ereção de uma capela curada.</p>
                            </td>
                        </tr>
                    </table>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
 
                </li>
    
                <li data-date="06/01/1637">
                    <h2>Capela Nossa Senhora da Oliveira</h2>
                    <em>21 de dezembro de 1761</em>
                    <p>Em março de 1761 era erguida a Capela Nossa Senhora da Oliveira, sendo inaugurada em 21 de dezembro do mesmo ano. Passou a ser conhecida como Capela do Continente de Viamão, Capela da Serra e ainda Capela do Distrito dos Pinhais. Até 1763, a capela curada foi atendida pelo Vigário de Nossa Senhora da Conceição de Viamão, passando após para o pároco de Santo Antônio da Patrulha. O primeiro sacerdote a residir na capela foi o Pe. Dr João Ferreira Roriz. O terreno onde a capela foi erguida fazia parte da sesmaria cedida ao Pioneiro Manuel R. de Jesus, mais tarde o terreno passou para sua filha, Inácia Rodrigues de Jesus que, casada com Francico Borges Vieira, que doou a Igreja, em 1940, toda a antiga área urbana da vila de Vacaria.</p>
                    <br>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
                </li>
    
                <li data-date="07/01/1637">
                    <h2>Freguesia de Nossa Senhora da Oliveira de Vacaria</h2>
                    <em>20 de dezembro de 1968</em>
                    <p>Em 20 de dezembro de 1968, Dom Frei Antônio do Desterro, 6º Bispo do Rio de Janeiro, cria a Freguesia de Nossa Senhora da Oliveira de Vacaria. Com a freguesia fundada, em 1870, e iniciada a construção da nova Igreja Matriz, pelo carpinteiro José Santana, junto a Praça Nossa Senhora da Oliveira, hoje Praça Daltro Filho.</p>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
                </li>
    
                <li data-date="08/01/1637">
                    <h2>Terra de Missões</h2>
                    <em>1921</em>
                    <p>Em maio de 1921, o Nordeste do Estado passa à jurisdição eclesiástica da Arquidiocese de Porto Alegre. Dom João Becker, que muitas vezes havia visitado as paróquias do Planalto Nordeste, conhecendo a distância da região à capital Porto Alegre e influenciado pelos Sacerdotes Capuchinhos e pelas lideranças católicas de Vacaria, resolveu criar a uma nova diocese. Entretanto, o território que formaria a Diocese era considerado terra de missões, atendida exclusivamente por religiosos desde o começo do século XX, surgindo a ideia da criação de uma Prelazia. Também não se excluía a hipótese da criação de uma Diocese com sede em Caxias do Sul.</p>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
                </li>
    
                <li data-date="09/01/1637">
                    <h2>Prelazia de Nossa Senhora da Oliveira</h2>
                    <em>8 de setembro de 1934</em>
                    <p>Aos 8 de setembro de 1934, através de Bula do Papa Pio X, foi criado o Prelazia de Nossa Senhora da Oliveira, com sede em Vacaria, e a criação da Diocese de Caxias do Sul.No dia 20 de abril de 1935, às quatro horas da manhã, efetua-se a solene instalação de ambas na cripta da Catedral Metropolitana de Porto Alegre</p>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
                </li>
    
                <li data-date="10/01/1637">
                    <h2>Diocese de Vacaria</h2>
                    <em>28 de abril de 1957</em>
                    <p>A Bula Pontifícia Qui Vicaria datada de 18 de janeiro de 1957 criava a Diocese Nossa Senhora da Oliveira de Vacaria, sua ereção oficial aconteceu em 28 de abril do mesmo ano pelo Exmo. Revmo. Núncio Apostólico Dom Armando Lombardi.</p>
                    <span>BARBOSA, Fidelis Dalcin. A Diocese de Vacaria. Editora da Universidade de Caxias do Sul: Caxias do Sul. Escola Superior de Teologia São Lourenço de Brindes: Porto Alegre, 1984.</span> <br>
                </li>
    
            </ol>
        </div> <!-- .events-content -->
    </section>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>


    <script>
        jQuery(document).ready(function($){
	var timelines = $('.cd-horizontal-timeline'),
		eventsMinDistance = 60;

	(timelines.length > 0) && initTimeline(timelines);

	function initTimeline(timelines) {
		timelines.each(function(){
			var timeline = $(this),
				timelineComponents = {};
			//cache timeline components 
			timelineComponents['timelineWrapper'] = timeline.find('.events-wrapper');
			timelineComponents['eventsWrapper'] = timelineComponents['timelineWrapper'].children('.events');
			timelineComponents['fillingLine'] = timelineComponents['eventsWrapper'].children('.filling-line');
			timelineComponents['timelineEvents'] = timelineComponents['eventsWrapper'].find('a');
			timelineComponents['timelineDates'] = parseDate(timelineComponents['timelineEvents']);
			timelineComponents['eventsMinLapse'] = minLapse(timelineComponents['timelineDates']);
			timelineComponents['timelineNavigation'] = timeline.find('.cd-timeline-navigation');
			timelineComponents['eventsContent'] = timeline.children('.events-content');

			//assign a left postion to the single events along the timeline
			setDatePosition(timelineComponents, eventsMinDistance);
			//assign a width to the timeline
			var timelineTotWidth = setTimelineWidth(timelineComponents, eventsMinDistance);
			//the timeline has been initialize - show it
			timeline.addClass('loaded');

			//detect click on the next arrow
			timelineComponents['timelineNavigation'].on('click', '.next', function(event){
				event.preventDefault();
				updateSlide(timelineComponents, timelineTotWidth, 'next');
			});
			//detect click on the prev arrow
			timelineComponents['timelineNavigation'].on('click', '.prev', function(event){
				event.preventDefault();
				updateSlide(timelineComponents, timelineTotWidth, 'prev');
			});
			//detect click on the a single event - show new event content
			timelineComponents['eventsWrapper'].on('click', 'a', function(event){
				event.preventDefault();
				timelineComponents['timelineEvents'].removeClass('selected');
				$(this).addClass('selected');
				updateOlderEvents($(this));
				updateFilling($(this), timelineComponents['fillingLine'], timelineTotWidth);
				updateVisibleContent($(this), timelineComponents['eventsContent']);
			});

			//on swipe, show next/prev event content
			timelineComponents['eventsContent'].on('swipeleft', function(){
				var mq = checkMQ();
				( mq == 'mobile' ) && showNewContent(timelineComponents, timelineTotWidth, 'next');
			});
			timelineComponents['eventsContent'].on('swiperight', function(){
				var mq = checkMQ();
				( mq == 'mobile' ) && showNewContent(timelineComponents, timelineTotWidth, 'prev');
			});

			//keyboard navigation
			$(document).keyup(function(event){
				if(event.which=='37' && elementInViewport(timeline.get(0)) ) {
					showNewContent(timelineComponents, timelineTotWidth, 'prev');
				} else if( event.which=='39' && elementInViewport(timeline.get(0))) {
					showNewContent(timelineComponents, timelineTotWidth, 'next');
				}
			});
		});
	}

	function updateSlide(timelineComponents, timelineTotWidth, string) {
		//retrieve translateX value of timelineComponents['eventsWrapper']
		var translateValue = getTranslateValue(timelineComponents['eventsWrapper']),
			wrapperWidth = Number(timelineComponents['timelineWrapper'].css('width').replace('px', ''));
		//translate the timeline to the left('next')/right('prev') 
		(string == 'next') 
			? translateTimeline(timelineComponents, translateValue - wrapperWidth + eventsMinDistance, wrapperWidth - timelineTotWidth)
			: translateTimeline(timelineComponents, translateValue + wrapperWidth - eventsMinDistance);
	}

	function showNewContent(timelineComponents, timelineTotWidth, string) {
		//go from one event to the next/previous one
		var visibleContent =  timelineComponents['eventsContent'].find('.selected'),
			newContent = ( string == 'next' ) ? visibleContent.next() : visibleContent.prev();

		if ( newContent.length > 0 ) { //if there's a next/prev event - show it
			var selectedDate = timelineComponents['eventsWrapper'].find('.selected'),
				newEvent = ( string == 'next' ) ? selectedDate.parent('li').next('li').children('a') : selectedDate.parent('li').prev('li').children('a');
			
			updateFilling(newEvent, timelineComponents['fillingLine'], timelineTotWidth);
			updateVisibleContent(newEvent, timelineComponents['eventsContent']);
			newEvent.addClass('selected');
			selectedDate.removeClass('selected');
			updateOlderEvents(newEvent);
			updateTimelinePosition(string, newEvent, timelineComponents, timelineTotWidth);
		}
	}

	function updateTimelinePosition(string, event, timelineComponents, timelineTotWidth) {
		//translate timeline to the left/right according to the position of the selected event
		var eventStyle = window.getComputedStyle(event.get(0), null),
			eventLeft = Number(eventStyle.getPropertyValue("left").replace('px', '')),
			timelineWidth = Number(timelineComponents['timelineWrapper'].css('width').replace('px', '')),
			timelineTotWidth = Number(timelineComponents['eventsWrapper'].css('width').replace('px', ''));
		var timelineTranslate = getTranslateValue(timelineComponents['eventsWrapper']);

        if( (string == 'next' && eventLeft > timelineWidth - timelineTranslate) || (string == 'prev' && eventLeft < - timelineTranslate) ) {
        	translateTimeline(timelineComponents, - eventLeft + timelineWidth/2, timelineWidth - timelineTotWidth);
        }
	}

	function translateTimeline(timelineComponents, value, totWidth) {
		var eventsWrapper = timelineComponents['eventsWrapper'].get(0);
		value = (value > 0) ? 0 : value; //only negative translate value
		value = ( !(typeof totWidth === 'undefined') &&  value < totWidth ) ? totWidth : value; //do not translate more than timeline width
		setTransformValue(eventsWrapper, 'translateX', value+'px');
		//update navigation arrows visibility
		(value == 0 ) ? timelineComponents['timelineNavigation'].find('.prev').addClass('inactive') : timelineComponents['timelineNavigation'].find('.prev').removeClass('inactive');
		(value == totWidth ) ? timelineComponents['timelineNavigation'].find('.next').addClass('inactive') : timelineComponents['timelineNavigation'].find('.next').removeClass('inactive');
	}

	function updateFilling(selectedEvent, filling, totWidth) {
		//change .filling-line length according to the selected event
		var eventStyle = window.getComputedStyle(selectedEvent.get(0), null),
			eventLeft = eventStyle.getPropertyValue("left"),
			eventWidth = eventStyle.getPropertyValue("width");
		eventLeft = Number(eventLeft.replace('px', '')) + Number(eventWidth.replace('px', ''))/2;
		var scaleValue = eventLeft/totWidth;
		setTransformValue(filling.get(0), 'scaleX', scaleValue);
	}

	function setDatePosition(timelineComponents, min) {
		for (i = 0; i < timelineComponents['timelineDates'].length; i++) { 
		    var distance = daydiff(timelineComponents['timelineDates'][0], timelineComponents['timelineDates'][i]),
		    	distanceNorm = Math.round(distance/timelineComponents['eventsMinLapse']) + 2;
		    timelineComponents['timelineEvents'].eq(i).css('left', distanceNorm*min+'px');
		}
	}

	function setTimelineWidth(timelineComponents, width) {
		var timeSpan = daydiff(timelineComponents['timelineDates'][0], timelineComponents['timelineDates'][timelineComponents['timelineDates'].length-1]),
			timeSpanNorm = timeSpan/timelineComponents['eventsMinLapse'],
			timeSpanNorm = Math.round(timeSpanNorm) + 4,
			totalWidth = timeSpanNorm*width;
		timelineComponents['eventsWrapper'].css('width', totalWidth+'px');
		updateFilling(timelineComponents['timelineEvents'].eq(0), timelineComponents['fillingLine'], totalWidth);
	
		return totalWidth;
	}

	function updateVisibleContent(event, eventsContent) {
		var eventDate = event.data('date'),
			visibleContent = eventsContent.find('.selected'),
			selectedContent = eventsContent.find('[data-date="'+ eventDate +'"]'),
			selectedContentHeight = selectedContent.height();

		if (selectedContent.index() > visibleContent.index()) {
			var classEnetering = 'selected enter-right',
				classLeaving = 'leave-left';
		} else {
			var classEnetering = 'selected enter-left',
				classLeaving = 'leave-right';
		}

		selectedContent.attr('class', classEnetering);
		visibleContent.attr('class', classLeaving).one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(){
			visibleContent.removeClass('leave-right leave-left');
			selectedContent.removeClass('enter-left enter-right');
		});
		eventsContent.css('height', selectedContentHeight+'px');
	}

	function updateOlderEvents(event) {
		event.parent('li').prevAll('li').children('a').addClass('older-event').end().end().nextAll('li').children('a').removeClass('older-event');
	}

	function getTranslateValue(timeline) {
		var timelineStyle = window.getComputedStyle(timeline.get(0), null),
			timelineTranslate = timelineStyle.getPropertyValue("-webkit-transform") ||
         		timelineStyle.getPropertyValue("-moz-transform") ||
         		timelineStyle.getPropertyValue("-ms-transform") ||
         		timelineStyle.getPropertyValue("-o-transform") ||
         		timelineStyle.getPropertyValue("transform");

        if( timelineTranslate.indexOf('(') >=0 ) {
        	var timelineTranslate = timelineTranslate.split('(')[1];
    		timelineTranslate = timelineTranslate.split(')')[0];
    		timelineTranslate = timelineTranslate.split(',');
    		var translateValue = timelineTranslate[4];
        } else {
        	var translateValue = 0;
        }

        return Number(translateValue);
	}

	function setTransformValue(element, property, value) {
		element.style["-webkit-transform"] = property+"("+value+")";
		element.style["-moz-transform"] = property+"("+value+")";
		element.style["-ms-transform"] = property+"("+value+")";
		element.style["-o-transform"] = property+"("+value+")";
		element.style["transform"] = property+"("+value+")";
	}

	//based on http://stackoverflow.com/questions/542938/how-do-i-get-the-number-of-days-between-two-dates-in-javascript
	function parseDate(events) {
		var dateArrays = [];
		events.each(function(){
			var dateComp = $(this).data('date').split('/'),
				newDate = new Date(dateComp[2], dateComp[1]-1, dateComp[0]);
			dateArrays.push(newDate);
		});
	    return dateArrays;
	}

	function parseDate2(events) {
		var dateArrays = [];
		events.each(function(){
			var singleDate = $(this),
				dateComp = singleDate.data('date').split('T');
			if( dateComp.length > 1 ) { //both DD/MM/YEAR and time are provided
				var dayComp = dateComp[0].split('/'),
					timeComp = dateComp[1].split(':');
			} else if( dateComp[0].indexOf(':') >=0 ) { //only time is provide
				var dayComp = ["2000", "0", "0"],
					timeComp = dateComp[0].split(':');
			} else { //only DD/MM/YEAR
				var dayComp = dateComp[0].split('/'),
					timeComp = ["0", "0"];
			}
			var	newDate = new Date(dayComp[2], dayComp[1]-1, dayComp[0], timeComp[0], timeComp[1]);
			dateArrays.push(newDate);
		});
	    return dateArrays;
	}

	function daydiff(first, second) {
	    return Math.round((second-first));
	}

	function minLapse(dates) {
		//determine the minimum distance among events
		var dateDistances = [];
		for (i = 1; i < dates.length; i++) { 
		    var distance = daydiff(dates[i-1], dates[i]);
		    dateDistances.push(distance);
		}
		return Math.min.apply(null, dateDistances);
	}

	/*
		How to tell if a DOM element is visible in the current viewport?
		http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport
	*/
	function elementInViewport(el) {
		var top = el.offsetTop;
		var left = el.offsetLeft;
		var width = el.offsetWidth;
		var height = el.offsetHeight;

		while(el.offsetParent) {
		    el = el.offsetParent;
		    top += el.offsetTop;
		    left += el.offsetLeft;
		}

		return (
		    top < (window.pageYOffset + window.innerHeight) &&
		    left < (window.pageXOffset + window.innerWidth) &&
		    (top + height) > window.pageYOffset &&
		    (left + width) > window.pageXOffset
		);
	}

	function checkMQ() {
		//check if mobile or desktop device
		return window.getComputedStyle(document.querySelector('.cd-horizontal-timeline'), '::before').getPropertyValue('content').replace(/'/g, "").replace(/"/g, "");
	}
});
    </script>

</body>
</html>